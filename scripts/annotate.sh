#!/bin/bash
#
# The "#" before the "SBATCH" parameters do not comment it out! Use triple "###" to comment something out.
# Check our wiki for valid QOS / PARTITION / ACCOUNT combinations and resource limits!
# https://wiki.ukp.informatik.tu-darmstadt.de/bin/view/Services/Campus/ComputeCluster
# You can shorten this example script and adapt to create your own one.
#
# Give your job a proper name
#SBATCH --job-name=sm_generate
#
# How many cpus to request
#SBATCH --cpus-per-task=10
#
# How much memory to request
#SBATCH --mem=64GB
#
# How many gpus to request
#SBATCH --gres=gpu:2
#
# Limit runtime d-hh:mm:ss - here limited to 1min
#SBATCH --time=0-16:00:00
#
# PARTITION to run in (athene-only people need to specify partition "gpu-athene" - otherwise the default "gpu" partition, which can only be used by UKP members, is selected leading to errors during job submission!)
#SBATCH --partition=gpu-athene
#
# ACCOUNT to use (default account for athene-only people is "athene-researcher" and therefore does not need to be specified - check your accounts with command: "sshare -U")
###SBATCH --account=athene-student
#
# QOS to use (default QOS for everyone is "gpu" and therefore does not need to be specified)
###SBATCH --qos=gpu
#
# Define standard output files - make sure those files exist
#SBATCH --output=/storage/athene/work/sakharova/annotate.output
#SBATCH --error=/storage/athene/work/sakharova/annotate.error
tasks=( 3271 3505 4628 2977 3319 2842 1668 4029 3965 2656 4675 4540 3366 4489 3231 4354 3045 3925 3739 3092 3604 4449 4314 3005 3786 3651 3187 3052 4175 4040 2901 3746 3611 4734 3425 4135 2897 4000 2762 3472 4595 4460 3286 3151 4508 2857 2722 3845 3710 4555 4420 3246 4369 3111 3892 3293 3805 4281 4329 3852 2678 3666 3531 4376 4241 3067 4055 2916 3392 3626 4749 4614 2963 3305 1654 4015 3951 2777 4661 3487 3352 4475 4709 3911 2737 4435 2784 4300 3126 3772 4482 3173 4296 3867 4209 3732 4720 3546 3411 4256 4121 2883 3593 4581 3506 4629 2978 2843 4676 4541 3367 2890 3232 2803 1629 3926 3093 4501 3327 3973 2799 4315 2664 3006 3787 3652 4497 4362 3188 3053 4176 4041 2902 3747 3612 4735 4600 3426 4136 1640 4001 3473 2858 2723 3568 3433 4556 4421 3247 2770 3112 3893 2818 3294 3806 4282 4516 3207 3853 2679 3667 3532 4377 4242 3068 3627 2964 1655 3674 4016 4662 3488 3353 4063 2690 2924 1615 3912 2738 4622 3448 3313 4436 2785 4301 3127 3773 4483 3174 4297 4162 3868 3733 4257 3780 4122 3594 3507 4217 2979 4998 2844 3689 3554 4677 4542 3368 2891 3233 4078 2939 2804 3927 3280 4637 4502 3328 3974 4316 2665 4498 4363 3189 3054 3748 3613 4323 3149 3014 2950 3795 4137 3660 4002 3474 3708 4184 2910 2859 2724 4743 3569 3434 4557 4422 3248 2771 3113 3894 2819 3295 3807 4517 3208 3989 2731 3854 3255 4378 3120 4243 3069 3949 3580 3814 4290 3628 4338 4203 3029 2965 2830 1656 3675 4017 3540 4663 3489 3354 4199 4064 2925 1616 3913 4623 3449 3314 1663 3960 2786 2651 3496 3361 4484 3175 3040 3920 2746 3869 3734 4579 4444 3135 4258 3000 3781 4123 3595 3829 3460 4170 3508 4218 2845 4678 3420 4543 2892 4079 4590 2805 3281 4638 2987 4503 3329 2852 4039 3975 3840 2666 4685 4550 3376 4499 3241 4364 3055 3935 3800 3749 3614 4459 4090 4324 3015 2951 3796 4138 3661 4003 3709 4185 4050 2911 4744 3435 3300 4145 4010 3482 4470 3296 4704 3161 4518 2867 3209 2732 3855 3720 4565 4430 3256 4379 3121 4244 2593 3815 4291 3629 4339 4204 3676 3541 3077 4065 2926 1617 3636 3501 4624 2973 3315 1664 4025 3961 2787 2652 4671 3497 3362 4485 4719 4350 3176 3041 3921 2747 3735 3600 4445 4310 3136 4259 3001 3782 3183 4171 3877 4219 3742 4730 3556 3421 4266 4131 2893 4591 2806 3282 3516 4639 2988 4504 2853 3976 3841 2667 4551 3377 3242 4365 3936 3801 3983 4325 2674 3016 3797 3662 4372 3198 3063 4186 4051 2912 3757 3622 4745 4610 3436 3301 4146 1650 4011 2773 3483 4471 4705 4519 2868 2733 4566 4431 3257 2780 3122 2828 3816 4292 4526 3217 3998 3863 2689 4205 3677 3542 4387 4252 3078 4066 2927 1618 3637 3502 4625 2974 3316 1665 4026 4672 3498 3363 2934 1625 3922 2748 3458 3323 4446 2795 4311 3137 2660 3002 3783 4493 2708 3184 4172 4406 3878 3743 4731 3557 3422 4267 4132 3517 2989 2854 3564 4687 4552 3243 4088 2949 2814 3937 3290 3802 4647 4512 3338 3203 3984 4326 2675 3017 3798 3663 4373 3199 3064 4187 3758 3623 4746 2960 4147 1651 3670 4012 3484 4194 4706 2920 4107 2869 2734 4753 3579 3444 4567 4432 3258 2781 3123 2829 3817 3170 4293 4527 3218 3999 3864 4206 4388 4253 3079 3590 3638 3503 4213 3039 2975 2840 1666 3685 4027 3550 4673 3499 3364 4074 2935 2800 1626 3923 2749 4633 3459 3324 4447 3970 2796 4312 3138 2661 4494 2709 3185 3050 4407 3879 3744 0003 3145 4268 3010 3791 4133 3839 3704 4180 3518 4228 2855 2720 3565 4688 3430 4553 3379 3244 4089 3890 2815 3938 3291 3803 4648 4513 3339 3204 3985 3850 2676 3386 3251 4374 3065 3945 3810 3759 3624 4469 4334 3025 2961 4148 1652 3671 4013 3485 3719 3350 4195 4707 4060 2921 4108 4754 3445 4568 3310 2782 3492 4480 3171 4528 2877 3219 2742 3865 3730 4575 4440 3266 4389 3131 4254 3591 3825 3639 3504 4349 4214 2976 2841 3686 4028 3551 4674 4075 2936 2801 4634 2983 3325 4035 3971 2797 2662 4681 3372 4495 4729 4360 3186 3051 4408 3931 2757 3745 3610 4320 4269 3011 3792 4134 3705 4181 3519 4229 4740 3566 3431 4141 2816 3292 4700 3526 4649 2998 2863 3205 3986 3851 2677 4696 4561 3387 3252 4375 4609 4240 3066 3946 3811 3625 4335 4200 3026 3672 3073 4196 2922 3767 4109 1613 3632 4620 3446 3311 4156 1660 4021 2783 3493 4481 4715 3172 4529 2878 2743 3866 3731 4576 4441 3267 3132 4255 3826 3873 2699 4215 3687 3552 4397 4262 3088 4076 2937 2802 1628 3647 3512 4635 2984 4500 3326 4036 3972 2798 2663 4682 3373 4496 4361 4409 3932 2758 4456 4321 2670 3012 3793 2718 3194 3706 4182 4416 3107 3888 3753 4741 3567 3432 4277 4142 2817 4701 3527 2999 4515 2864 3206 3987 4697 4562 3388 3253 2824 3947 3812 4522 3348 3213 3994 4336 2685 4201 3027 3673 3907 4383 3074 4197 4062 2923 3768 1614 3633 4621 3447 2970 3312 4157 1661 4022 3494 4716 3407 2930 2879 1621 2744 3589 3454 4577 4442 3268 2791 3133 2839 2704 3827 3180 4537 4402 3228 3874 4216 3688 3553 4398 4263 3089 4077 2938 3648 3513 2985 2850 3695 4037 3560 4683 3374 4084 2945 2810 1636 3933 2759 4643 3469 3334 4457 3980 4322 3148 2671 3013 3794 2719 3195 3707 3060 4183 4417 3108 3889 3754 4742 4278 4143 3480 4190 4702 3528 4238 4103 2865 2730 3575 4698 3440 4563 3389 3254 4099 2825 3948 3813 4658 4523 3349 3214 3995 4337 3860 2686 4202 3028 3908 4384 3075 3769 3634 3035 2971 4158 1662 3681 4023 3495 3729 3360 4717 4070 3408 2931 4118 1622 2745 3455 4578 3320 4443 3269 2792 3134 4490 2705 3828 3181 4538 4403 3229 3875 3740 3276 4399 3141 4264 3835 3700 3649 3514 4359 4224 2986 2851 3696 4038 3561 4684 3375 3609 3240 4085 2946 3934 4644 3335 4458 3200 3981 2672 3382 4370 3196 3061 4418 3941 2767 3109 3755 3620 4465 4330 3156 4279 3021 4144 3481 3715 4191 4703 3529 4239 4104 2866 4750 3576 4699 3441 4564 2826 4659 4524 2873 3215 3996 3861 2687 4571 3397 3909 3262 4385 4619 4250 3076 3956 3821 3635 3500 4345 4210 3036 2972 4159 3682 4024 4670 4718 4071 3409 2932 4119 1623 4630 3456 3321 4031 2793 4491 2706 4725 3182 4539 2888 4404 2753 3876 3741 4586 4451 3277 3142 4265 3836 3701 4225 3697 3562 3098 4086 2947 2812 1638 3657 3522 4645 2994 4510 3336 3201 4046 3982 2673 4692 2907 3383 4371 3197 4605 3062 4419 3942 2768 3756 3621 4466 4331 3157 3022 3716 4192 3763 4105 4751 3577 3442 4287 4152 2827 4711 3537 3402 4525 2874 3216 3997 3862 2688 4572 3398 3263 4386 4251 3957 3822 4346 2695 4211 3037 3683 4393 3084 4072 4306 2933 3778 1624 3643 4631 3457 2980 3322 4167 4032 2794 4492 2707 4726 3417 2889 4405 2754 4587 4452 3278 3143 2714 3837 3190 3702 3238 3103 3884 4226 3698 3563 4273 3099 4087 2948 2813 1639 3658 3523 4646 2995 4511 3337 2860 3202 4047 4693 2908 3384 4606 2820 1646 3943 2769 3479 3344 4467 3990 4332 3158 2681 3023 3903 2729 3717 3070 4193 4427 3118 3899 3764 4106 1610 4752 3578 3443 4288 4153 3490 4712 3538 3403 2875 2740 3585 3450 4573 3399 3264 2835 3958 2700 3823 4668 4533 3359 3224 4347 3870 2696 4212 3038 3684 3918 4394 3085 4073 4307 3779 3644 4632 2981 4168 3691 4033 3370 4727 4080 3418 2941 4128 2755 3465 4588 3330 4453 3279 3144 3790 2715 3838 3191 3703 4548 4413 3239 3104 3885 4227 3750 3699 4274 3659 3524 4234 2996 2861 4048 3571 4694 2909 3385 3619 3250 4095 4607 2821 1647 4008 3944 4654 3345 4468 3210 3991 4333 3159 2682 3024 3904 4380 3718 3071 4428 3119 2642 3765 3630 4340 3166 4289 3031 4154 3491 3725 4713 3539 3404 4249 4114 2876 2741 3586 3451 4574 3265 3130 2836 3959 2701 3824 4669 4534 3225 4348 3871 2697 3919 3272 4395 4260 3086 3966 4308 3831 2657 3645 3510 4355 4220 3046 2982 4169 3692 4034 4680 3371 3605 4728 4081 3419 2942 4129 1633 3930 2756 4640 3466 4589 3331 4454 2716 3192 4549 2898 4414 2763 3105 3886 3751 4596 4461 3287 3152 4275 4509 4140 3846 3711 3525 4235 2997 4100 2862 4049 3572 4695 4560 4096 4608 2957 2822 1648 4009 4655 4520 3346 3211 4056 3992 2683 2917 3393 1608 3905 4381 4615 3072 3306 4429 3952 2778 3631 4476 4341 3167 3032 4155 4020 3726 4714 3405 4115 3587 3452 2837 2702 4721 3547 3412 4535 2884 4400 3226 3872 2698 4582 3273 4396 4261 3087 3967 4309 3832 2658 3646 3511 4356 4221 3047 3693 3094 3606 4082 3007 2943 1634 3653 4641 3467 2990 3332 4177 4042 2903 2717 4736 3193 4601 3427 2899 4415 2764 3106 3887 3752 4597 4462 3288 3153 4276 3847 3712 4236 2585 4101 3573 4283 2958 2823 1649 3668 3533 4656 4521 3347 2870 3212 4057 3993 2684 2918 3394 1609 3906 4382 4616 3307 3953 2779 4477 4342 3168 2691 3033 2739 3727 3080 4437 4302 3128 3774 1620 3588 3453 4298 4163 2790 2838 2703 4722 3548 3413 4536 2885 4401 3227 2750 4583 3274 3968 2710 3833 2659 3369 3234 4357 3880 4222 3048 2571 3694 3928 3095 3607 4083 4317 3008 2944 3789 1635 3654 4642 3468 2991 4178 4043 2904 3380 4737 4602 3428 1642 2765 3475 4598 3340 4463 3289 3154 2725 3848 3713 4558 4423 3249 3114 3895 4237 3760 4102 3574 3808 4284 4098 2959 3669 3534 4657 2871 4058 3581 2919 3395 3260 4617 2966 3308 2831 1657 4018 3954 4664 3355 4478 3220 4343 3169 2692 3034 3680 3914 4390 3728 4438 4303 3129 3775 4117 3640 4299 4164 4723 3549 3414 4124 2886 2751 3596 3461 4584 3275 3509 3140 2846 3969 2711 3834 4679 4544 3235 4358 3100 3881 4223 3049 3929 4270 3096 3608 4318 3009 3655 4230 3056 2992 4179 4044 2905 3381 3615 4738 4091 4603 3429 2952 4139 1643 4004 3940 2766 4650 3476 4599 3341 4464 3155 3020 3900 2726 3849 4559 4424 3115 3896 3761 3297 3809 3162 4285 4150 3856 3721 3535 3400 4245 4110 2872 4059 3582 4570 3396 3261 4618 3309 2832 1658 4019 3955 3820 4665 4530 3356 4479 3221 4344 2693 3915 4391 3082 4439 3962 2788 4304 2653 3776 3641 4486 4351 3177 3042 4165 4030 3601 4724 3415 4125 2752 3597 3462 4585 4450 2847 2712 4545 2894 4410 3236 3101 3882 4592 2807 3283 4271 3097 4505 4319 3842 2668 3656 3521 4366 4231 3057 2993 4045 4691 2906 3616 4739 4092 4604 2953 4005 4651 3477 3342 4052 2913 3901 2727 4611 3437 3302 4425 2774 3116 3897 3762 4472 3298 3163 4286 4151 3857 3722 4710 3536 3401 4246 4111 3583 2968 2833 1659 3678 3543 4666 4531 3357 2880 3222 4067 2694 2928 1619 3916 4392 4626 3083 3317 3963 2789 4305 2654 3777 3642 4487 4352 3178 3043 4166 3737 3090 3602 3003 3784 4126 1630 3598 3463 4173 2848 2713 4732 3558 3423 4546 2895 4411 3237 2760 3102 3883 4593 2808 3284 4272 4506 3978 3843 2669 4367 4232 3058 3617 4093 4327 3018 2954 3799 1645 3664 4006 4652 3478 3343 4188 4053 2680 2914 3390 3902 2728 4747 4612 3438 3303 4426 2775 3117 3898 4473 3299 3164 2735 3858 3723 4433 3259 3124 4247 4112 3584 3818 4294 4207 2969 2834 3679 3544 4667 4532 3358 2881 3223 4068 2929 3917 3270 4627 3318 1667 3964 2655 3365 4488 3230 4353 3179 3044 3690 3924 3738 3091 3603 4448 4313 3139 3004 2940 3785 4127 1631 3650 3599 3464 4174 2900 2849 4733 3559 3424 4547 2896 2761 3471 4594 2809 3285 3150 4507 2856 3979 2721 3844 4689 4554 3245 4368 3110 3891 4233 3059 3939 3570 3804 4280 3618 4094 4328 3019 2955 3665 4007 3530 4653 4189 4054 2915 3391 4748 4613 3439 2962 3304 4149 1653 4014 3950 2776 4660 3486 3351 4474 4708 3165 3030 3910 2736 3859 3724 4569 4434 3125 4248 3771 4113 3819 4295 4160 4208 3545 3410 4120 2882 4069 4580 )
cd data/APPS/preference
for task in "${tasks[@]}"
do
    echo Testing index $task
    cd $task
    monkeytype run sample_call.py
    monkeytype apply solution
    crosshair cover --coverage_type path solution.py
    cd ..
done
